import{r as c,o as x,a as u,c as p,b as t,d as w,w as v,v as m,F as b,e as V,t as _,f as l,g as n,u as r,T as H,n as A}from"./app.77c39b12.js";import{v as C,I as D,g as k,S as M}from"./menu.ca9dd2f3.js";const U={class:"max-w-4xl mx-auto"},Z={class:"mt-[25px]"},S={class:"inputan"},T=t("span",null,"Title",-1),q={class:"inputan"},I=t("span",null,"Description",-1),B={class:"inputan"},$=t("span",null,"Price",-1),z={class:"inputan"},F=t("span",null,"Image",-1),N=t("div",null,[t("br"),t("button",{class:"btn"},"Add User")],-1),P={class:"w-full text-sm border border-gray-200 bg-white rounded-xl shadows p-4 pt-10 mt-6 max-h-[65vh] overflow-auto"},O={class:"px-4"},j={class:"table-auto w-[600px] md:w-full"},E=t("thead",null,[t("tr",{class:"text-left"},[t("th",null,"No."),t("th",null,"Photos"),t("th",null,"Title"),t("th",null,"Price")])],-1),L={class:"pr-6 py-2"},G={class:"pr-6 py-2"},J=["src"],K={class:"pr-6 py-2"},Q={class:"pr-6 py-2"},R={class:"pr-6 py-2 hidden"},W=t("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",class:"w-4 h-4"},[t("path",{fill:"currentColor",d:"M7,0H4A4,4,0,0,0,0,4V7a4,4,0,0,0,4,4H7a4,4,0,0,0,4-4V4A4,4,0,0,0,7,0ZM9,7A2,2,0,0,1,7,9H4A2,2,0,0,1,2,7V4A2,2,0,0,1,4,2H7A2,2,0,0,1,9,4Z"}),t("path",{fill:"currentColor",d:"M20,0H17a4,4,0,0,0-4,4V7a4,4,0,0,0,4,4h3a4,4,0,0,0,4-4V4A4,4,0,0,0,20,0Zm2,7a2,2,0,0,1-2,2H17a2,2,0,0,1-2-2V4a2,2,0,0,1,2-2h3a2,2,0,0,1,2,2Z"}),t("path",{fill:"currentColor",d:"M7,13H4a4,4,0,0,0-4,4v3a4,4,0,0,0,4,4H7a4,4,0,0,0,4-4V17A4,4,0,0,0,7,13Zm2,7a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V17a2,2,0,0,1,2-2H7a2,2,0,0,1,2,2Z"}),t("path",{fill:"currentColor",d:"M20,13H17a4,4,0,0,0-4,4v3a4,4,0,0,0,4,4h3a4,4,0,0,0,4-4V17A4,4,0,0,0,20,13Zm2,7a2,2,0,0,1-2,2H17a2,2,0,0,1-2-2V17a2,2,0,0,1,2-2h3a2,2,0,0,1,2,2Z"})],-1),X={class:"relative z-30"},Y={class:"px-1 py-1"},tt=["onClick"],et=t("div",{class:"text-center pt-4"},null,-1),it={name:"product",setup(st){c(["2023-01-01",new Date().toISOString().split("T")[0]]);const i=c([]),o=c({title:"Test",description:"test",price:15550,image:null});async function d(){i.value=[];try{const{data:a}=await axios.get("/product?limit=1000");console.log(a),i.value=a.data}catch(a){a.response.request.status==401&&(localStorage.removeItem("token"),location.reload())}}async function h(){i.value=[];try{let a=new FormData;for(let e in o.value)a.append(e,o.value[e]);const{data:s}=await axios.post("/product",a);o.value={title:"",description:"",price:0,image:null},d()}catch(a){console.log(a)}}async function f(a){if(confirm(`Do you want to Delete ${a.name} !`))try{const{data:s}=await axios.delete(`/product/${a.id}`);console.log(s),d()}catch(s){console.log(s)}}return x(()=>{d()}),(a,s)=>(u(),p("div",U,[t("div",Z,[t("form",{onSubmit:s[4]||(s[4]=w(e=>h(),["prevent"])),class:"grid md:grid-cols-3 gap-x-4"},[t("div",S,[T,v(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>o.value.title=e),required:""},null,512),[[m,o.value.title]])]),t("div",q,[I,v(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>o.value.description=e),required:""},null,512),[[m,o.value.description]])]),t("div",B,[$,v(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>o.value.price=e),required:""},null,512),[[m,o.value.price]])]),t("div",z,[F,t("input",{type:"file",onChange:s[3]||(s[3]=e=>o.value.image=e.target.files[0]),required:""},null,32)]),N],32)]),t("div",P,[t("div",O,[t("table",j,[E,t("tbody",null,[(u(!0),p(b,null,V(i.value,(e,g,at)=>(u(),p("tr",{class:"border-t",key:e},[t("td",L,_(g+1)+".",1),t("td",G,[t("img",{src:e.photo,class:"w-16 h-16 object-cover rounded-full flex-none"},null,8,J)]),t("td",K,_(e.title),1),t("td",Q,_(e.price),1),t("td",R,[l(r(C),{as:"div",class:"relative inline-block text-left"},{default:n(()=>[t("div",null,[l(r(D),{class:"p-2 rounded-lg text-primary bg-primary/10"},{default:n(()=>[W]),_:1})]),t("div",X,[l(H,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:n(()=>[l(r(k),{class:"absolute right-0 mt-2 w-40 z-30 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[t("div",Y,[l(r(M),null,{default:n(({active:y})=>[t("button",{onClick:ot=>f(e),class:A([y?"bg-primary text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])}," Delete ",10,tt)]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),_:2},1024)])]))),128))])])]),et])]))}};export{it as default};
