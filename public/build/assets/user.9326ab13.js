import{r as c,o as y,a as u,c as p,b as t,d as x,w as m,v,F as b,e as V,t as h,f as l,g as n,u as i,T as H,n as A}from"./app.77c39b12.js";import{v as k,I as U,g as C,S as M}from"./menu.ca9dd2f3.js";const Z={class:"max-w-3xl mx-auto"},D={class:"mt-[25px]"},S={class:"inputan"},B=t("span",null,"Username",-1),I={class:"inputan"},T=t("span",null,"Password",-1),$=t("div",null,[t("br"),t("button",{class:"bg-primary/20 text-primary px-10 py-2 rounded-full"}," Add User ")],-1),q={class:"w-full text-sm border border-gray-200 bg-white rounded-xl shadows p-4 pt-10 mt-6 max-h-[85vh] overflow-auto"},z={class:"px-4"},N={class:"table-auto w-[600px] md:w-full"},F=t("thead",null,[t("tr",{class:"text-left"},[t("th",null,"No."),t("th",null,"Username"),t("th",null,"Aksi")])],-1),O={class:"pr-6 py-2"},E={class:"pr-6 py-2"},L={class:"pr-6 py-2"},P=t("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",class:"w-4 h-4"},[t("path",{fill:"currentColor",d:"M7,0H4A4,4,0,0,0,0,4V7a4,4,0,0,0,4,4H7a4,4,0,0,0,4-4V4A4,4,0,0,0,7,0ZM9,7A2,2,0,0,1,7,9H4A2,2,0,0,1,2,7V4A2,2,0,0,1,4,2H7A2,2,0,0,1,9,4Z"}),t("path",{fill:"currentColor",d:"M20,0H17a4,4,0,0,0-4,4V7a4,4,0,0,0,4,4h3a4,4,0,0,0,4-4V4A4,4,0,0,0,20,0Zm2,7a2,2,0,0,1-2,2H17a2,2,0,0,1-2-2V4a2,2,0,0,1,2-2h3a2,2,0,0,1,2,2Z"}),t("path",{fill:"currentColor",d:"M7,13H4a4,4,0,0,0-4,4v3a4,4,0,0,0,4,4H7a4,4,0,0,0,4-4V17A4,4,0,0,0,7,13Zm2,7a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V17a2,2,0,0,1,2-2H7a2,2,0,0,1,2,2Z"}),t("path",{fill:"currentColor",d:"M20,13H17a4,4,0,0,0-4,4v3a4,4,0,0,0,4,4h3a4,4,0,0,0,4-4V17A4,4,0,0,0,20,13Zm2,7a2,2,0,0,1-2,2H17a2,2,0,0,1-2-2V17a2,2,0,0,1,2-2h3a2,2,0,0,1,2,2Z"})],-1),j={class:"relative z-30"},G={class:"px-1 py-1"},J=["onClick"],K=t("div",{class:"text-center pt-4"},null,-1),tt={name:"user",setup(Q){c(["2023-01-01",new Date().toISOString().split("T")[0]]);const r=c([]),o=c({username:"",name:"",password:"",role:"student"});async function d(){r.value=[];try{const{data:e}=await axios.get("/user?limit=1000");console.log(e),r.value=e.data}catch(e){e.response.request.status==401&&(localStorage.removeItem("token"),location.reload())}}async function _(){r.value=[];try{const{data:e}=await axios.post("/user",o.value);console.log(e),o.value={username:"",name:"",password:"",role:"student"},d()}catch(e){console.log(e)}}async function f(e){if(confirm(`Do you want to Delete ${e.name} !`))try{const{data:s}=await axios.delete(`/user/${e.id}`);console.log(s),d()}catch(s){console.log(s)}}return y(()=>{d()}),(e,s)=>(u(),p("div",Z,[t("div",D,[t("form",{onSubmit:s[2]||(s[2]=x(a=>_(),["prevent"])),class:"grid md:grid-cols-3 gap-x-4"},[t("div",S,[B,m(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>o.value.username=a),required:""},null,512),[[v,o.value.username]])]),t("div",I,[T,m(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>o.value.password=a),required:""},null,512),[[v,o.value.password]])]),$],32)]),t("div",q,[t("div",z,[t("table",N,[F,t("tbody",null,[(u(!0),p(b,null,V(r.value,(a,g,R)=>(u(),p("tr",{class:"border-t",key:a},[t("td",O,h(g+1)+".",1),t("td",E,h(a.username),1),t("td",L,[l(i(k),{as:"div",class:"relative inline-block text-left"},{default:n(()=>[t("div",null,[l(i(U),{class:"p-2 rounded-lg text-primary bg-primary/10"},{default:n(()=>[P]),_:1})]),t("div",j,[l(H,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:n(()=>[l(i(C),{class:"absolute right-0 mt-2 w-40 z-30 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[t("div",G,[l(i(M),null,{default:n(({active:w})=>[t("button",{onClick:W=>f(a),class:A([w?"bg-primary text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])}," Delete ",10,J)]),_:2},1024)])]),_:2},1024)]),_:2},1024)])]),_:2},1024)])]))),128))])])]),K])]))}};export{tt as default};
